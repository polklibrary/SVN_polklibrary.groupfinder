<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone"
	  lang="en">
<body>

	<metal:block fill-slot="style_slot">
        <link type="text/css" rel="stylesheet" href="++resource++polklibrary.groupfinder/groupfinder.css" />
	</metal:block>
    

	<metal:block fill-slot="javascript_head_slot">
    
        <script src="https://apis.google.com/js/client.js"></script>
        <script src="++resource++polklibrary.groupfinder/groupfinder.gcal.js"></script>
        <script>
            var GFLocations = ${view/get_locations_json};
            GCAL.APIKEY = '${context/api_key}';
            GCAL.CLIENTID = '${context/client_id}';
        </script>
        <script src="++resource++polklibrary.groupfinder/groupfinder.js"></script>
        <script src="++resource++polklibrary.groupfinder/safe.filter.js"></script>
	</metal:block>
    
    
    <metal:content-title fill-slot="content-title" >
        <h1 class="documentFirstHeading">GroupFinder</h1>
    </metal:content-title>
        
	<metal:content-description fill-slot="content-description"></metal:content-description>

	<metal:content fill-slot="content-core">
        
        <div id="groupfinder" class="column">
        
            <div class="col-20">
                <div id="gf-pickadate-label">
                    View room reservations: 
                </div>
                <input id="gf-pickadate" class="pat-pickadate" value="${view/get_today}" data-pat-pickadate="time:false"/>
            </div>
            <div class="col-80">
                <img src="++resource++polklibrary.groupfinder/helpinfo.jpg" alt="Help" />
            </div>
            
            <div id="gf-locations" class="col-100 hide-1024">
                <tal:block repeat="location view/get_locations">
                    <div class="col-25" data-pos="${repeat/location/index}">
                        <div class="b">
                            <a href="${location/getURL}">${location/Title}</a>
                        </div>
                    </div>
                </tal:block>
            </div>
            
            <div id="gf-events" class="col-100" style="position: relative"></div>
            <div class="clear"></div>
        
        </div>
        
        
        
        <div id="gf-backdrop" class="gf-backdrop"></div>
        <div id="gf-add-overlay">
            <a name="gf-overlay-target"></a>
            <h2>Schedule Room</h2>
        
            <label for="gf-email">Your email:</label>
            <input id="gf-email" class="pat-safefilter" type="text" name="email" value="" placeholder="something@uwosh.edu" />
            
            <label for="gf-privacy">Allow others to join the study group?</label>
            <input id="gf-privacy" type="checkbox" name="privacy" />
            
            <div id="gf-title-toggle">
                <label for="gf-title">Provide a study group name:</label>
                <input id="gf-title" class="pat-safefilter" type="text" name="title" value="Private" placeholder="example: biology 101" />
            </div>
            
            
            
            <label for="gf-start">Start Time:</label>
            <select id="gf-start" name="start">
                <option data-hour="0" value="0">12:00 am</option>
                <option data-hour="0" value="15">12:15 am</option>
                <option data-hour="0" value="30">12:30 am</option>
                <option data-hour="0" value="45">12:45 am</option>
                <tal:block repeat="i python:range(1, 12)">
                    <option tal:attributes="data-hour python:i" value="0">${i}:00 am</option>
                    <option tal:attributes="data-hour python:i" value="15">${i}:15 am</option>
                    <option tal:attributes="data-hour python:i" value="30">${i}:30 am</option>
                    <option tal:attributes="data-hour python:i" value="45">${i}:45 am</option>
                </tal:block>
                <option data-hour="12" value="0">12:00 pm</option>
                <option data-hour="12" value="15">12:15 pm</option>
                <option data-hour="12" value="30">12:30 pm</option>
                <option data-hour="12" value="45">12:45 pm</option>
                <tal:block repeat="i python:range(1, 12)">
                    <option tal:attributes="data-hour python:i+12" value="0">${i}:00 pm</option>
                    <option tal:attributes="data-hour python:i+12" value="15">${i}:15 pm</option>
                    <option tal:attributes="data-hour python:i+12" value="30">${i}:30 pm</option>
                    <option tal:attributes="data-hour python:i+12" value="45">${i}:45 pm</option>
                </tal:block>
            </select>

            <label for="gf-end">End Time:</label>
            <select id="gf-end" name="end">
                <option data-hour="0" value="0">12:00 am</option>
                <option data-hour="0" value="15">12:15 am</option>
                <option data-hour="0" value="30">12:30 am</option>
                <option data-hour="0" value="45">12:45 am</option>
                <tal:block repeat="i python:range(1, 12)">
                    <option tal:attributes="data-hour python:i" value="0">${i}:00 am</option>
                    <option tal:attributes="data-hour python:i" value="15">${i}:15 am</option>
                    <option tal:attributes="data-hour python:i" value="30">${i}:30 am</option>
                    <option tal:attributes="data-hour python:i" value="45">${i}:45 am</option>
                </tal:block>
                <option data-hour="12" value="0">12:00 pm</option>
                <option data-hour="12" value="15">12:15 pm</option>
                <option data-hour="12" value="30">12:30 pm</option>
                <option data-hour="12" value="45">12:45 pm</option>
                <tal:block repeat="i python:range(1, 12)">
                    <option tal:attributes="data-hour python:i+12" value="0">${i}:00 pm</option>
                    <option tal:attributes="data-hour python:i+12" value="15">${i}:15 pm</option>
                    <option tal:attributes="data-hour python:i+12" value="30">${i}:30 pm</option>
                    <option tal:attributes="data-hour python:i+12" value="45">${i}:45 pm</option>
                </tal:block>
            </select>
            <div id="gf-warn"></div>
            <div class="gf-buttons">
                <input id="gf-submit" class="context" type="button" value="Schedule Room" />
                <input id="gf-cancel" class="standalone" type="button" value="Cancel" />
                <input id="gf-cal" type="hidden" name="gf-cal" value="" />
            </div>
            
            <div id="gf-location">
                <h2></h2>
                <div></div>
                <img alt="Room Image" />
            </div>
        
        </div>
        
        
	</metal:content>

</body>
</html>